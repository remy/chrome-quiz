(function(g,c){var i=false;g.quiz=function(){function d(a){if(b[a]!==undefined){c.body.className+=" task"+a;b[a]();delete b[a];if(a==6)e.value="Go get your free gift!";else if(a<4)e.value="Just "+(6-a)+" tasks to go...";else if(a<6)e.value="Almost there, "+(6-a)+" left!"}}var b={},e=c.getElementById("send"),j=(+new Date).toString(32).substr(3).toUpperCase();b["1"]=function(){var a=c.querySelector("h1"),f=c.defaultView.getComputedStyle(a,null);(function h(){f["font-size"]=="18px"?d(2):setTimeout(h,
200)})()};b["2"]=function(){function a(){c.removeEventListener("DOMCharacterDataModified",a,true);c.removeEventListener("DOMNodeInserted",a,true);d(3)}c.addEventListener("DOMCharacterDataModified",a,true);c.addEventListener("DOMNodeInserted",a,true)};b["3"]=function(){function a(){if(this.value==j){d(4);f.removeEventListener("keyup",a,false)}}g.__defineGetter__("secretPass",function(){return j});var f=c.getElementById("sp");f.addEventListener("keyup",a,false)};b["4"]=function(){function a(){if(this.value==
h){d(5);taskvalue.removeEventListener("keyup",a,false)}}var f=new XMLHttpRequest,h=0;f.onreadystatechange=function(){if(this.readyState==4&&this.status==200)h=(this.responseText.length/1024).toFixed(2)};f.open("GET",g.location,false);f.send();taskvalue=c.getElementById("docsize");taskvalue.addEventListener("keyup",a,false)};b["5"]=function(){localStorage.setItem("unwanted","IE6");(function a(){localStorage.getItem("unwanted")===null?d(6):setTimeout(a,200)})()};b["6"]=function(){};d(1);return function(){for(var a in b)return false;
return true}}();[].forEach.call(c.querySelectorAll("input[data-next]"),function(d){d.addEventListener("keydown",function(b){if(b.which==13){var e=c.getElementById(this.getAttribute("data-next").substr(1));if(e.nodeName==="INPUT")e.focus();else g.location="#"+e.id;b.preventDefault()}},false)});c.getElementById("quizForm").addEventListener("submit",function(d){d.preventDefault();if(quiz())if(i)g.location="#thankyou";else{d=new XMLHttpRequest;d.onreadystatechange=function(){if(this.readyState==4&&this.status==
200)if(this.responseText=="1"){c.getElementById("code").innerHTML=secretPass;g.location="#thankyou"}else console.log("something went wrong...")};var b=navigator.userAgent.match(/Chrome\/([\d\.]+)/),e=[];e.push("name="+encodeURIComponent(c.getElementById("name").value));e.push("code="+secretPass.toUpperCase());e.push("datetime="+encodeURIComponent(new Date));e.push("chrome="+(b===null?"false":b[1]));d.open("POST","/save");d.setRequestHeader("Content-Type","text/plain;charset=UTF-8");d.send(e.join("&"));
i=true}else console.log("quiz not complete")},false)})(this,document);